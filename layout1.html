<!DOCTYPE html>
<html lang="en">
<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <title>Controlfrog - Meaningful Metrics</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/controlfrog.css" rel="stylesheet" media="screen">   
	<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
	
	<script src="//code.jquery.com/jquery-1.9.1.min.js"></script>    
	<script src="js/moment.js"></script>	
	<script src="js/easypiechart.js"></script>
	<script src="js/gauge.js"></script>	
	<script src="js/chart.js"></script>
	<script src="js/jquery.sparklines.js"></script>			
    <script src="js/bootstrap.js"></script>
    <script src="js/controlfrog-plugins.js"></script>

    <!-- slider -->
    <link href="slider/css/slider.css" rel="stylesheet" />
    <script src="slider/js/bootstrap-slider.js"></script>

    <!--[if lt IE 9]>
		<script src="js/respond.min.js"></script>
		<script src="js/excanvas.min.js"></script>
	<![endif]-->
    
    
	<script>
		var themeColour = 'white';
	</script>
    <script src="js/controlfrog.js"></script>
</head>
<body class="white">


    <div class="cf-container cf-nav-active">
        <div class="row"><!-- Top row -->
            <div class="col-sm-6 cf-item">
                <!-- top left -->
                <div class="inner">
                    <header>
                        <p><span></span>Control Panel</p>
                    </header>
                    <div class="content">
                        <table class="table table-hover table-borderless">
                            <tbody>
                            <tr>
                                <td class="col-sm-2">Equities</td>
                                <td class="col-sm-8">
                                    <input type="text" data-bind="sliderValue: controlPanel.equities" />
                                </td>
                                <td class="col-sm-1"><span data-bind="text: controlPanel.equities"></span></td>
                            </tr>
                            <tr>
                                <td>Gilts</td>
                                <td>
                                    <input type="text" data-bind="sliderValue: controlPanel.gilts" />
                                </td>
                                <td><span data-bind="text: controlPanel.gilts"></span></td>
                            </tr>
                            <tr>
                                <td>Swaps</td>
                                <td>
                                    <input type="text" data-bind="sliderValue: controlPanel.swaps" />
                                </td>
                                <td><span data-bind="text: controlPanel.swaps"></span></td>
                            </tr>
                            <tr>
                                <td>Synthetic Assets</td>
                                <td>
                                    <input type="text" data-bind="sliderValue: { value: controlPanel.syntheticAssets, step: 10, max: 200 }" />
                                </td>
                                <td><span data-bind="text: controlPanel.syntheticAssets"></span></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div> <!-- //end inner -->
            </div>

            <div class="col-sm-6 cf-item">
                <!-- top right -->
                <div class="inner">
                    <header>
                        <p><span></span>PRMF</p>
                    </header>

                    <div class="content">
                        <div id="cf-rag-1" class="cf-rag">

                            <div class="cf-figs ">
                                <ul>
                                    <li>
                                        <div class="cf-figs-fig m-red">
                                            <p>40%</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="cf-figs-fig m-amber">
                                            <p>50%</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="cf-figs-fig m-green">
                                            <p>10%</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="cf-figs-fig m-green">
                                            <p>10%</p>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div class="cf-txts ">
                                <ul>
                                    <li>
                                        <div class="cf-txts-txt m-red">
                                            <p>Red</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="cf-txts-txt m-amber">
                                            <p>Amber</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="cf-txts-txt m-green">
                                            <p>Green</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="cf-txts-txt m-green">
                                            <p>Green</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="cf-figs-fig m-green">
                                            <p>10%</p>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <!--<div class="cf-bars">-->
                                <!--<ul>-->
                                    <!--<li style="height: 25%">-->
                                        <!--<div class="cf-bars-bar m-red mb"></div>-->
                                    <!--</li>-->
                                    <!--<li style="height: 25%">-->
                                        <!--<div class="cf-bars-bar m-amber mb"></div>-->
                                    <!--</li>-->
                                    <!--<li style="height: 25%">-->
                                        <!--<div class="cf-bars-bar m-green mb"></div>-->
                                    <!--</li>-->
                                    <!--<li style="height: 25%">-->
                                        <!--<div class="cf-bars-bar m-green mb"></div>-->
                                    <!--</li>-->
                                <!--</ul>-->
                            <!--</div>-->
                        </div>
                    </div>

                </div> <!-- //end inner -->

            </div>

        </div>
        <div class="row"><!-- Bottom row -->

            <div class="col-sm-6 cf-item">
                <!-- bottom left -->
                <div class="inner">
                    <header>
                        <p><span></span>Bottom Left</p>
                    </header>
                </div> <!-- //end inner -->
            </div>

            <div class="col-sm-6 cf-item">
                <!-- bottom right -->
                <div class="inner">
                    <header>
                        <p><span></span>Bottom Right</p>
                    </header>
                </div> <!-- //end inner -->
            </div>

        </div>
    </div>

    <script src="http://cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-debug.js"></script>

    <script>

        ko.bindingHandlers.sliderValue = {
            init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {
                var params = valueAccessor();

                //ensure valueAccessor is either an observable item or contains a 'value' item
                if (!(ko.isObservable(params) || params['value'])){
                    throw "You need to define an observable value for the sliderValue. Either pass the observable directly or in the 'value' field in the parameters";
                }

                var valueObservable;
                if (ko.isObservable(params)){       //if observable, create slider using params directly
                    valueObservable = params;
                    $(element).slider({value: ko.unwrap(params)});
                }else{                              //otherwise, replace params['value'] with the actual value and create slider using set of parameters
                    valueObservable = params['value'];
                    params['value'] = ko.unwrap(valueObservable);
                    $(element).slider(params);
                }

                $(element).on('slide', function (ev) {
                    valueObservable(ev.value);
                });
            },
            update: function (element, valueAccessor, allBindings, viewModel, bindingContext) {
                var modelValue = valueAccessor();
                var valueObservable;
                if (ko.isObservable(modelValue)){
                    valueObservable = modelValue;
                }else{
                    valueObservable = modelValue['value'];
                }

                $(element).slider('setValue', valueObservable());
            }
        };

        var fp = fp || {};

        fp.ViewModel = function () {
            var self = this;

            self.controlPanel = {
                equities: ko.observable(1),
                gilts: ko.observable(6),
                swaps: ko.observable(8),
                syntheticAssets: ko.observable(50)
            };

            self.prmf = {

            };

            self.risk = {

            };

            self.flightPlan = {

            };
        };

        var vm = new fp.ViewModel();
        ko.applyBindings(vm);

    </script>

</body>
</html>

